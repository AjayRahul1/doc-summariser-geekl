<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Summarise</title>
	<link rel="stylesheet" href="/static/styles.css">

	<!-- HTMX Script -->
	<script src="https://unpkg.com/htmx.org@1.9.4"></script>

	<!-- Bootstrap 4.6.2 version link -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</head>
<body style="background-color: #f9f9fb;">

	<!-- Navbar-->
	<nav class="navbar navbar-expand-lg bg-dark border-bottom border-body shadow-sm" data-bs-theme="dark">
		<a class="navbar-brand" href="/" style="margin-left: 16px;">Short & Sweet</a>
    <button class="navbar-toggler " type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Summarise</a>
        </li>
			</ul>
		</div>
	</nav>

	<!-- Summarise Div -->
	<div class="summarise-and-stats-container">
		<div class="summarise">
			<form hx-get="/summarise_txt" hx-trigger="submit" hx-target="#summarised_output">
				<div class="form-floating">
					<textarea class="form-control input-summarise-expanding-input" placeholder="Leave a comment here" id="input_for_summarise" name="input_for_summarise"></textarea>
					<!-- Use the 'form-control' class for Bootstrap styling -->
					<label for="input_for_summarise">Type or Paste here to summarise:</label>
				</div>
        <input type="submit" class="btn btn-outline-primary" style="width: 100%; margin: 5px 0;" value="Summarise the text">
			</form>
			<div class="text-wrap summarised-output" id="summarised_output">
				{% if summarized_paragraph %}
					<p class="lh-sm">{{ summarised_paragraph }}</p>
				{% endif %}

				{% if not summarized_paragraph %}
					<p class="lh-sm text-secondary">
						Click <strong>Summarise</strong> for the output
					</p>
				{% endif %}
			</div>
		</div>
		<div class="summarise-statistics">
			<strong>Statistics</strong>
		</div>
	</div>
</body>
</html>
<script>
	// Adjust the height of the textarea as the user types
	document.getElementById('input_for_summarise').addEventListener('input', function () {
		this.style.height = 'auto';
		this.style.height = (this.scrollHeight) + 'px';
	});
</script>